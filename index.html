<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Basket — Simple (sin cuotas ni reloj)</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;background:#f7f9fc;margin:0}
    .wrap{max-width:980px;margin:24px auto;padding:0 16px}
    h1{font-size:22px;margin:12px 0}
    .card{background:#fff;border:1px solid #e9edf3;border-radius:10px;padding:14px;margin:10px 0}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    input,button{font:inherit}
    input{padding:10px 12px;border:1px solid #d8dee9;border-radius:10px;background:#fff}
    button{padding:10px 14px;border-radius:10px;border:0;background:#2563eb;color:#fff;cursor:pointer}
    button[disabled]{opacity:.6;cursor:not-allowed}
    .pill{display:inline-block;padding:4px 10px;border-radius:999px;background:#f3f4f6;border:1px solid #e5e7eb}
    table{width:100%;border-collapse:separate;border-spacing:0 8px}
    th,td{padding:10px 12px;text-align:left}
    th{font-size:12px;letter-spacing:.02em;color:#475569}
    tr{background:#fff;border:1px solid #e9edf3}
    tr td:first-child, tr th:first-child {border-top-left-radius:10px;border-bottom-left-radius:10px}
    tr td:last-child, tr th:last-child {border-top-right-radius:10px;border-bottom-right-radius:10px}
    small{color:#64748b}
    .muted{color:#6b7280}
    .right{float:right}
    .summary p{margin:6px 0}
    textarea{width:100%;min-height:120px;border:1px solid #e5e7eb;border-radius:10px;padding:10px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Basket — Simple (sin cuotas ni reloj)</h1>

    <!-- Bloque: Auto (API devs sports) -->
    <div id="apiBox" class="card">
      <h3 style="margin:0 0 10px">Auto (API devs sports)</h3>
      <div class="row">
        <input id="apiBase" placeholder="https://TU-API-BASE.com" style="min-width:320px">
        <input id="apiKey"  placeholder="API key (opcional)" style="min-width:220px">
        <input id="teamAId" placeholder="ID Equipo A (p.ej. 408202)">
        <input id="teamBId" placeholder="ID Equipo B (p.ej. 408206)">
        <button id="btnFetchH2H">Buscar H2H</button>
      </div>
      <small>Si tu API no permite CORS, llama desde un proxy/función serverless y devuelve el JSON.</small>
    </div>

    <!-- Bloque: Panel manual (sigue igual, pero se auto-rellena) -->
    <div class="card">
      <h3 style="margin:0 0 10px">Panel</h3>
      <div class="row">
        <input id="equipoA" placeholder="Equipo A" style="min-width:220px">
        <input id="equipoB" placeholder="Equipo B" style="min-width:220px">
        <button id="iniciarPartido">Iniciar partido</button>
      </div>
      <div class="row" style="margin-top:10px">
        <input id="tickInput" placeholder="tick (ej: 24-17)">
        <button id="anadirTick">Añadir tick</button>
        <button id="reset">Reset</button>
      </div>
      <div class="card" style="background:#fafbff">
        <div class="summary" id="quickSummary">
          <p class="muted">Resumen rápido — T: — · Lead: — · Fase: — · Ritmo: — · Momentum: —</p>
        </div>
      </div>
    </div>

    <!-- Historial y tabla de partido actual -->
    <div class="card">
      <div class="row">
        <h3 style="margin:0">Partido</h3>
        <span id="estadoPartido" class="pill">ESPERA</span>
        <span id="confPartido" class="pill">0%</span>
      </div>
      <table>
        <thead>
          <tr>
            <th>Tick</th><th>Lead A</th><th>Lead B</th><th>Total</th><th>Swaps</th><th>Momentum</th>
          </tr>
        </thead>
        <tbody id="tablaTicks"></tbody>
      </table>
      <small class="muted">Consejo: si cargas por API, el último enfrentamiento se vuelca aquí automáticamente.</small>
    </div>

    <div class="card">
      <h3 style="margin:0 0 10px">Ticks generados (solo lectura)</h3>
      <textarea id="generatedTicks" readonly></textarea>
    </div>

    <div class="card">
      <h3 style="margin:0 0 10px">Historial guardado</h3>
      <div id="historial"></div>
    </div>

  </div>

  <script src="./script.js"></script>
</body>
</html>
